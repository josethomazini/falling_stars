{"version":3,"sources":["webpack:///./src/assets/style.css?601d","webpack:///./src/helpers/consts.js","webpack:///./src/scenes/PreloadScene.js","webpack:///./src/entities/ScoreLabel.js","webpack:///./src/entities/BombSpawner.js","webpack:///./src/scenes/GameScene.js","webpack:///./src/index.js","webpack:///./src/assets/style.css"],"names":["PreloadScene","this","load","image","keys","sky","platform","star","bomb","spritesheet","dude","frameWidth","frameHeight","scene","start","Phaser","formatScore","score","ScoreLabel","x","y","style","updateScoreText","points","setScore","setText","BombSpawner","bombKey","key","group","physics","add","playerX","create","setBounce","setCollideWorldBounds","setVelocity","GameScene","player","undefined","cursors","scoreLabel","stars","bombSpawner","gameOver","platforms","createPlatforms","createPlayer","createStars","createScoreLabel","bombsGroup","collider","hitBomb","overlap","collectStar","input","keyboard","createCursorKeys","left","isDown","setVelocityX","anims","play","right","up","body","touching","down","setVelocityY","pause","setTint","disableBody","countActive","children","iterate","child","enableBody","spawn","label","fontSize","fill","existing","repeat","setXY","stepX","setBounceY","staticGroup","setScale","refreshBody","sprite","frames","generateFrameNumbers","end","frameRate","frame","config","type","width","height","default","arcade","gravity","___CSS_LOADER_EXPORT___","push","module","id"],"mappings":"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","file":"index.a8f2b2fd1ab1685b8abb.js","sourcesContent":["import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js!./style.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","const keys = {\n  sky: 'sky',\n  platform: 'platform',\n  star: 'star',\n  bomb: 'bomb',\n  dude: 'dude',\n};\n\nexport default keys;\n","import Phaser from 'phaser';\nimport keys from '../helpers/consts';\n\nimport sky from '../assets/sky.png';\nimport platform from '../assets/platform.png';\nimport star from '../assets/star.png';\nimport bomb from '../assets/bomb.png';\nimport dude from '../assets/dude.png';\n\nexport default class PreloadScene extends Phaser.Scene {\n  constructor() {\n    super('PreloadScene');\n  }\n\n  preload() {\n    this.load.image(keys.sky, sky);\n    this.load.image(keys.platform, platform);\n    this.load.image(keys.star, star);\n    this.load.image(keys.bomb, bomb);\n\n    this.load.spritesheet(\n      keys.dude, dude,\n      {\n        frameWidth: 32,\n        frameHeight: 48,\n      },\n    );\n  }\n\n  create() {\n    this.scene.start('GameScene');\n  }\n}\n","import Phaser from 'phaser';\n\nconst formatScore = (score) => `Score: ${score}`;\n\nexport default class ScoreLabel extends Phaser.GameObjects.Text {\n  constructor(scene, x, y, score, style) {\n    super(scene, x, y, formatScore(score), style);\n\n    this.score = score;\n  }\n\n  setScore(score) {\n    this.score = score;\n    this.updateScoreText();\n  }\n\n  add(points) {\n    this.setScore(this.score + points);\n  }\n\n  updateScoreText() {\n    this.setText(formatScore(this.score));\n  }\n}\n","import Phaser from 'phaser';\n\nexport default class BombSpawner {\n  constructor(scene, bombKey = 'bomb') {\n    this.scene = scene;\n    this.key = bombKey;\n\n    this.group = this.scene.physics.add.group();\n  }\n\n  getGroup() {\n    return this.group;\n  }\n\n  spawn(playerX = 0) {\n    const x = (playerX < 400) ? Phaser.Math.Between(400, 800) : Phaser.Math.Between(0, 400);\n\n    const bomb = this.group.create(x, 16, this.key);\n    bomb.setBounce(1);\n    bomb.setCollideWorldBounds(true);\n    bomb.setVelocity(Phaser.Math.Between(-200, 200), 20);\n\n    return bomb;\n  }\n}\n","import Phaser from 'phaser';\nimport keys from '../helpers/consts';\nimport ScoreLabel from '../entities/ScoreLabel';\nimport BombSpawner from '../entities/BombSpawner';\n\nexport default class GameScene extends Phaser.Scene {\n  constructor() {\n    super('GameScene');\n\n    this.player = undefined;\n    this.cursors = undefined;\n    this.scoreLabel = undefined;\n    this.stars = undefined;\n    this.bombSpawner = undefined;\n\n    this.gameOver = false;\n  }\n\n  create() {\n    this.add.image(400, 300, keys.sky);\n    const platforms = this.createPlatforms();\n    this.player = this.createPlayer();\n    this.stars = this.createStars();\n\n    this.scoreLabel = this.createScoreLabel(16, 16, 0);\n    this.bombSpawner = new BombSpawner(this, keys.bomb);\n    const bombsGroup = this.bombSpawner.group;\n\n    this.physics.add.collider(this.player, platforms);\n    this.physics.add.collider(this.stars, platforms);\n    this.physics.add.collider(bombsGroup, platforms);\n    this.physics.add.collider(this.player, bombsGroup, this.hitBomb, null, this);\n\n    this.physics.add.overlap(this.player, this.stars, this.collectStar, null, this);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n  }\n\n  update() {\n    if (this.gameOver) {\n      return;\n    }\n\n    if (this.cursors.left.isDown) {\n      this.player.setVelocityX(-160);\n\n      this.player.anims.play('left', true);\n    } else if (this.cursors.right.isDown) {\n      this.player.setVelocityX(160);\n\n      this.player.anims.play('right', true);\n    } else {\n      this.player.setVelocityX(0);\n\n      this.player.anims.play('turn');\n    }\n\n    if (this.cursors.up.isDown && this.player.body.touching.down) {\n      this.player.setVelocityY(-330);\n    }\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  hitBomb(player, bomb) {\n    this.physics.pause();\n\n    player.setTint(0xff0000);\n\n    player.anims.play('turn');\n\n    this.gameOver = true;\n  }\n\n  collectStar(player, star) {\n    star.disableBody(true, true);\n    this.scoreLabel.add(10);\n\n    if (this.stars.countActive(true) === 0) {\n      //  A new batch of stars to collect\n      this.stars.children.iterate((child) => {\n        child.enableBody(true, child.x, 0, true, true);\n      });\n    }\n\n    this.bombSpawner.spawn(player.x);\n  }\n\n  createScoreLabel(x, y, score) {\n    const style = { fontSize: '32px', fill: '#000' };\n    const label = new ScoreLabel(this, x, y, score, style);\n\n    this.add.existing(label);\n\n    return label;\n  }\n\n  createStars() {\n    const stars = this.physics.add.group({\n      key: keys.star,\n      repeat: 11,\n      setXY: { x: 12, y: 0, stepX: 70 },\n    });\n\n    stars.children.iterate((child) => {\n      child.setBounceY(Phaser.Math.FloatBetween(0.4, 0.8));\n    });\n\n    return stars;\n  }\n\n  createPlatforms() {\n    const platforms = this.physics.add.staticGroup();\n\n    platforms.create(400, 568, keys.platform).setScale(2).refreshBody();\n\n    platforms.create(600, 400, keys.platform);\n    platforms.create(50, 250, keys.platform);\n    platforms.create(750, 220, keys.platform);\n\n    return platforms;\n  }\n\n  createPlayer() {\n    const player = this.physics.add.sprite(100, 450, keys.dude);\n    player.setBounce(0.2);\n    player.setCollideWorldBounds(true);\n\n    this.anims.create({\n      key: 'left',\n      frames: this.anims.generateFrameNumbers(keys.dude, { start: 0, end: 3 }),\n      frameRate: 10,\n      repeat: -1,\n    });\n\n    this.anims.create({\n      key: 'turn',\n      frames: [{ key: keys.dude, frame: 4 }],\n      frameRate: 20,\n    });\n\n    this.anims.create({\n      key: 'right',\n      frames: this.anims.generateFrameNumbers(keys.dude, { start: 5, end: 8 }),\n      frameRate: 10,\n      repeat: -1,\n    });\n\n    return player;\n  }\n}\n","import './assets/style.css';\nimport Phaser from 'phaser';\n\nimport PreloadScene from './scenes/PreloadScene';\nimport GameScene from './scenes/GameScene';\n\nconst config = {\n  type: Phaser.CANVAS,\n  width: 800,\n  height: 600,\n  physics: {\n    default: 'arcade',\n    arcade: {\n      gravity: {\n        y: 300,\n      },\n    },\n  },\n  scene: [\n    PreloadScene,\n    GameScene,\n  ],\n};\n\nexport default new Phaser.Game(config);\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* @font-face {\\n  font-family: 'MyFont';\\n  src: url('./my-font.woff2') format('woff2'),\\n    url('./my-font.woff') format('woff');\\n  font-weight: 600;\\n  font-style: normal;\\n} */\\n\\nbody {\\n  /* font-family: 'MyFont'; */\\n  margin: 0;\\n  background: #333;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/assets/style.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;GAMG;;AAEH;EACE,2BAA2B;EAC3B,SAAS;EACT,gBAAgB;AAClB\",\"sourcesContent\":[\"/* @font-face {\\n  font-family: 'MyFont';\\n  src: url('./my-font.woff2') format('woff2'),\\n    url('./my-font.woff') format('woff');\\n  font-weight: 600;\\n  font-style: normal;\\n} */\\n\\nbody {\\n  /* font-family: 'MyFont'; */\\n  margin: 0;\\n  background: #333;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"sourceRoot":""}