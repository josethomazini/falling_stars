{"version":3,"sources":["webpack:///./src/style.css?7163","webpack:///./src/core/Consts.js","webpack:///./src/preload/AssetsLoader.js","webpack:///./src/preload/AssetText.js","webpack:///./src/preload/LoadingText.js","webpack:///./src/preload/PercentText.js","webpack:///./src/preload/ProgressBar.js","webpack:///./src/preload/ProgressBox.js","webpack:///./src/preload/EventHandler.js","webpack:///./src/preload/PreloadScene.js","webpack:///./src/stage/Background.js","webpack:///./src/stage/BombSpawner.js","webpack:///./src/core/GameState.js","webpack:///./src/stage/CollisionRules.js","webpack:///./src/stage/DudeAnimations.js","webpack:///./src/stage/Dude.js","webpack:///./src/stage/PlatformGroup.js","webpack:///./src/stage/PlayerControl.js","webpack:///./src/stage/ScoreLabel.js","webpack:///./src/stage/StarGroup.js","webpack:///./src/stage/BackgroundSound.js","webpack:///./src/stage/StageScene.js","webpack:///./src/index.js","webpack:///./src/style.css"],"names":["KEY","DUDE_ANIM","SCENE","SOUND","AssetsLoader","scene","load","image","sky","platform","star","bomb","spritesheet","dude","frameWidth","frameHeight","audio","ambianceWind","AssertText","cameras","main","width","height","this","text","make","x","y","style","font","fill","setOrigin","file","setText","key","destroy","LoadingText","PercentText","value","parseInt","ProgressBar","bar","add","graphics","clear","fillStyle","fillRect","ProgressBox","box","EventHandler","progressBar","progressBox","loadingText","percentText","assetText","on","progressed","fileProgressed","completed","PreloadScene","start","Phaser","Background","BombSpawner","group","physics","playerX","create","setBounce","setCollideWorldBounds","setVelocity","gameOver","CollisionRules","platforms","stars","bombSpawner","scoreLabel","collider","dudeHitsBomb","overlap","dudeCollectsStar","bombHitsBomb","player","pause","setTint","anims","play","GameState","bomb1","bomb2","disableBody","countActive","children","iterate","child","enableBody","spawn","DudeAnimations","frames","generateFrameNumbers","end","frameRate","repeat","frame","Dude","existing","PlatformGroup","staticGroup","setScale","refreshBody","PlayerControl","cursors","input","keyboard","createCursorKeys","restart","left","isDown","moveLeft","right","moveRight","idle","up","body","touching","down","jump","setVelocityX","setVelocityY","ScoreLabel","fontSize","setScore","points","StarGroup","setXY","stepX","setBounceY","BackgroundSound","music","sound","volume","loop","StageScene","playerControl","update","config","type","default","arcade","gravity","___CSS_LOADER_EXPORT___","push","module","id"],"mappings":"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","file":"index.5835c2984778968e6537.js","sourcesContent":["import api from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../node_modules/css-loader/dist/cjs.js!./style.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","export const KEY = {\n  sky: 'sky',\n  platform: 'platform',\n  star: 'star',\n  bomb: 'bomb',\n  dude: 'dude',\n};\n\nexport const DUDE_ANIM = {\n  left: 'left',\n  right: 'right',\n  idle: 'idle',\n};\n\nexport const SCENE = {\n  preload: 'preload',\n  stage: 'scene',\n};\n\nexport const SOUND = {\n  ambianceWind: 'ambianceWind',\n};\n","import { KEY, SOUND } from '../core/Consts';\n\nimport bomb from './assets/bomb.png';\nimport dude from './assets/dude.png';\nimport platform from './assets/platform.png';\nimport sky from './assets/sky.png';\nimport star from './assets/star.png';\nimport ambianceWind from './assets/ambiance-wind-forest-calm-loop.wav';\n\nexport default class AssetsLoader {\n  constructor(scene) {\n    scene.load.image(KEY.sky, sky);\n    scene.load.image(KEY.platform, platform);\n    scene.load.image(KEY.star, star);\n    scene.load.image(KEY.bomb, bomb);\n\n    scene.load.spritesheet(\n      KEY.dude, dude,\n      {\n        frameWidth: 32,\n        frameHeight: 48,\n      },\n    );\n\n    scene.load.audio(SOUND.ambianceWind, ambianceWind);\n  }\n}\n","export default class AssertText {\n  constructor(scene) {\n    const { width, height } = scene.cameras.main;\n\n    this.text = scene.make.text({\n      x: width / 2,\n      y: height / 2 + 50,\n      text: '',\n      style: {\n        font: '18px monospace',\n        fill: '#ffffff',\n      },\n    });\n\n    this.text.setOrigin(0.5, 0.5);\n  }\n\n  fileProgressed(file) {\n    this.text.setText(`Loading asset: ${file.key}`);\n  }\n\n  completed() {\n    this.text.destroy();\n  }\n}\n","export default class LoadingText {\n  constructor(scene) {\n    const { width, height } = scene.cameras.main;\n\n    this.text = scene.make.text({\n      x: width / 2,\n      y: height / 2 - 50,\n      text: 'Loading...',\n      style: {\n        font: '20px monospace',\n        fill: '#ffffff',\n      },\n    });\n    this.text.setOrigin(0.5, 0.5);\n  }\n\n  completed() {\n    this.text.destroy();\n  }\n}\n","export default class PercentText {\n  constructor(scene) {\n    const { width, height } = scene.cameras.main;\n\n    this.text = scene.make.text({\n      x: width / 2,\n      y: height / 2 - 5,\n      text: '0%',\n      style: {\n        font: '18px monospace',\n        fill: '#ffffff',\n      },\n    });\n    this.text.setOrigin(0.5, 0.5);\n  }\n\n  progressed(value) {\n    this.text.setText(`${parseInt(value * 100, 10)}%`);\n  }\n\n  completed() {\n    this.text.destroy();\n  }\n}\n","export default class ProgressBar {\n  constructor(scene) {\n    this.bar = scene.add.graphics();\n  }\n\n  progressed(value) {\n    this.bar.clear();\n    this.bar.fillStyle(0xffffff, 1);\n    this.bar.fillRect(250, 280, 300 * value, 30);\n  }\n\n  completed() {\n    this.bar.destroy();\n  }\n}\n","export default class ProgressBox {\n  constructor(scene) {\n    this.box = scene.add.graphics();\n    this.box.fillStyle(0x222222, 0.8);\n    this.box.fillRect(240, 270, 320, 50);\n  }\n\n  completed() {\n    this.box.destroy();\n  }\n}\n","import AssertText from './AssetText';\nimport LoadingText from './LoadingText';\nimport PercentText from './PercentText';\nimport ProgressBar from './ProgressBar';\nimport ProgressBox from './ProgressBox';\n\nexport default class EventHandler {\n  constructor(scene) {\n    const progressBar = new ProgressBar(scene);\n    const progressBox = new ProgressBox(scene);\n    const loadingText = new LoadingText(scene);\n    const percentText = new PercentText(scene);\n    const assetText = new AssertText(scene);\n\n    scene.load.on('progress', (value) => {\n      percentText.progressed(value);\n      progressBar.progressed(value);\n    });\n\n    scene.load.on('fileprogress', (file) => {\n      assetText.fileProgressed(file);\n    });\n\n    scene.load.on('complete', () => {\n      progressBar.completed();\n      progressBox.completed();\n      loadingText.completed();\n      percentText.completed();\n      assetText.completed();\n    });\n  }\n}\n","import Phaser from 'phaser';\n\nimport AssetsLoader from './AssetsLoader';\nimport EventHandler from './EventHandler';\nimport { SCENE } from '../core/Consts';\n\nexport default class PreloadScene extends Phaser.Scene {\n  constructor() {\n    super(SCENE.preload);\n  }\n\n  preload() {\n    new EventHandler(this);\n    new AssetsLoader(this);\n  }\n\n  create() {\n    this.scene.start(SCENE.stage);\n  }\n}\n","import { KEY } from '../core/Consts';\n\nexport default class Background {\n  constructor(scene) {\n    scene.add.image(400, 300, KEY.sky);\n  }\n}\n","import Phaser from 'phaser';\n\nimport { KEY } from '../core/Consts';\n\nexport default class BombSpawner {\n  constructor(scene) {\n    this.group = scene.physics.add.group();\n  }\n\n  spawn(playerX) {\n    const x = (playerX < 400)\n      ? Phaser.Math.Between(400, 800)\n      : Phaser.Math.Between(0, 400);\n\n    const bomb = this.group.create(x, 16, KEY.bomb);\n    bomb.setBounce(1);\n    bomb.setCollideWorldBounds(true);\n    bomb.setVelocity(Phaser.Math.Between(-200, 200), 20);\n  }\n}\n","export default {\n  gameOver: false,\n};\n","import GameState from '../core/GameState';\nimport { DUDE_ANIM } from '../core/Consts';\n\nexport default class CollisionRules {\n  constructor(scene, dude, platforms, stars, bombSpawner, scoreLabel) {\n    this.bombSpawner = bombSpawner;\n    this.scoreLabel = scoreLabel;\n    this.stars = stars;\n    this.scene = scene;\n\n    this.scene.physics.add.collider(dude, platforms.group);\n    this.scene.physics.add.collider(this.stars.group, platforms.group);\n    this.scene.physics.add.collider(bombSpawner.group, platforms.group);\n\n    this.scene.physics.add.collider(\n      dude, this.bombSpawner.group,\n      this.dudeHitsBomb, null, this,\n    );\n\n    this.scene.physics.add.overlap(\n      dude, stars.group,\n      this.dudeCollectsStar, null, this,\n    );\n\n    this.scene.physics.add.collider(\n      this.bombSpawner.group, this.bombSpawner.group,\n      this.bombHitsBomb, null, this,\n    );\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  dudeHitsBomb(player, bomb) {\n    this.scene.physics.pause();\n\n    player.setTint(0xff0000);\n    player.anims.play(DUDE_ANIM.idle);\n\n    GameState.gameOver = true;\n  }\n\n  bombHitsBomb(bomb1, bomb2) {\n    bomb1.disableBody(true, true);\n    bomb2.disableBody(true, true);\n  }\n\n  dudeCollectsStar(player, star) {\n    star.disableBody(true, true);\n    this.scoreLabel.add(10);\n\n    if (this.stars.group.countActive(true) === 0) {\n      //  A new batch of stars to collect\n      this.stars.group.children.iterate((child) => {\n        child.enableBody(true, child.x, 0, true, true);\n      });\n    }\n\n    this.bombSpawner.spawn(player.x);\n  }\n}\n","import { KEY, DUDE_ANIM } from '../core/Consts';\n\nexport default class DudeAnimations {\n  constructor(scene) {\n    scene.anims.create({\n      key: DUDE_ANIM.left,\n      frames: scene.anims.generateFrameNumbers(\n        KEY.dude, { start: 0, end: 3 },\n      ),\n      frameRate: 10,\n      repeat: -1,\n    });\n\n    scene.anims.create({\n      key: DUDE_ANIM.idle,\n      frames: [{ key: KEY.dude, frame: 4 }],\n      frameRate: 20,\n    });\n\n    scene.anims.create({\n      key: DUDE_ANIM.right,\n      frames: scene.anims.generateFrameNumbers(\n        KEY.dude, { start: 5, end: 8 },\n      ),\n      frameRate: 10,\n      repeat: -1,\n    });\n  }\n}\n","import Phaser from 'phaser';\n\nimport DudeAnimations from './DudeAnimations';\nimport { KEY } from '../core/Consts';\n\nexport default class Dude extends Phaser.Physics.Arcade.Sprite {\n  constructor(scene) {\n    super(scene, 100, 450, KEY.dude);\n\n    scene.add.existing(this);\n    scene.physics.add.existing(this);\n\n    this.setBounce(0.2);\n    this.setCollideWorldBounds(true);\n\n    new DudeAnimations(scene);\n  }\n}\n","import { KEY } from '../core/Consts';\n\nexport default class PlatformGroup {\n  constructor(scene) {\n    this.group = scene.physics.add.staticGroup();\n\n    this.group.create(400, 568, KEY.platform).setScale(2).refreshBody();\n\n    this.group.create(600, 400, KEY.platform);\n    this.group.create(50, 250, KEY.platform);\n    this.group.create(750, 220, KEY.platform);\n  }\n}\n","import GameState from '../core/GameState';\nimport { DUDE_ANIM, SCENE } from '../core/Consts';\n\nexport default class PlayerControl {\n  constructor(scene, dude) {\n    this.scene = scene;\n    this.dude = dude;\n\n    this.cursors = scene.input.keyboard.createCursorKeys();\n    this.scene.input.keyboard.on('keydown-SPACE', this.restart, this);\n  }\n\n  update() {\n    if (this.cursors.left.isDown) {\n      this.moveLeft();\n    } else if (this.cursors.right.isDown) {\n      this.moveRight();\n    } else {\n      this.idle();\n    }\n    if (this.cursors.up.isDown && this.dude.body.touching.down) {\n      this.jump();\n    }\n  }\n\n  restart() {\n    if (GameState.gameOver) {\n      this.scene.scene.start(SCENE.stage);\n    }\n  }\n\n  moveLeft() {\n    this.dude.setVelocityX(-160);\n    this.dude.anims.play(DUDE_ANIM.left, true);\n  }\n\n  moveRight() {\n    this.dude.setVelocityX(160);\n    this.dude.anims.play(DUDE_ANIM.right, true);\n  }\n\n  jump() {\n    this.dude.setVelocityY(-330);\n  }\n\n  idle() {\n    this.dude.setVelocityX(0);\n    this.dude.anims.play(DUDE_ANIM.idle);\n  }\n}\n","export default class ScoreLabel {\n  constructor(scene, x, y, value) {\n    const style = { fontSize: '32px', fill: '#000' };\n\n    this.text = scene.make.text({\n      x, y, text: '', style,\n    });\n\n    this.setScore(value);\n  }\n\n  setScore(value) {\n    this.value = value;\n    this.text.setText(`Score: ${this.value}`);\n  }\n\n  add(points) {\n    this.setScore(this.value + points);\n  }\n}\n","import Phaser from 'phaser';\n\nimport { KEY } from '../core/Consts';\n\nexport default class StarGroup {\n  constructor(scene) {\n    this.group = scene.physics.add.group({\n      key: KEY.star,\n      repeat: 11,\n      setXY: { x: 12, y: 0, stepX: 70 },\n    });\n\n    this.group.children.iterate((child) => {\n      child.setBounceY(Phaser.Math.FloatBetween(0.4, 0.8));\n    });\n  }\n}\n","import { SOUND } from '../core/Consts';\n\nexport default class BackgroundSound {\n  constructor(scene) {\n    this.music = scene.sound.add(SOUND.ambianceWind, {\n      volume: 1,\n      loop: true,\n    });\n  }\n\n  play() {\n    this.music.play();\n  }\n}\n","import Phaser from 'phaser';\n\nimport Background from './Background';\nimport BombSpawner from './BombSpawner';\nimport CollisionRules from './CollisionRules';\nimport Dude from './Dude';\nimport GameState from '../core/GameState';\nimport PlatformGroup from './PlatformGroup';\nimport PlayerControl from './PlayerControl';\nimport ScoreLabel from './ScoreLabel';\nimport StarGroup from './StarGroup';\nimport { SCENE } from '../core/Consts';\nimport BackgroundSound from './BackgroundSound';\n\nexport default class StageScene extends Phaser.Scene {\n  constructor() {\n    super(SCENE.stage);\n  }\n\n  create() {\n    GameState.gameOver = false;\n\n    new Background(this);\n\n    const backgroundSound = new BackgroundSound(this);\n    backgroundSound.play();\n\n    const dude = new Dude(this);\n    const platforms = new PlatformGroup(this);\n    const stars = new StarGroup(this);\n    const bombSpawner = new BombSpawner(this);\n    const scoreLabel = new ScoreLabel(this, 16, 16, 0);\n\n    this.playerControl = new PlayerControl(this, dude);\n    new CollisionRules(this, dude, platforms, stars, bombSpawner, scoreLabel);\n  }\n\n  update() {\n    if (GameState.gameOver) {\n      return;\n    }\n\n    this.playerControl.update();\n  }\n}\n","import Phaser from 'phaser';\n\nimport './style.css';\n\nimport PreloadScene from './preload/PreloadScene';\nimport StageScene from './stage/StageScene';\n\nconst config = {\n  type: Phaser.CANVAS,\n  width: 800,\n  height: 600,\n  physics: {\n    default: 'arcade',\n    arcade: {\n      // debug: true,\n      gravity: {\n        y: 300,\n      },\n    },\n  },\n  scene: [\n    PreloadScene,\n    StageScene,\n  ],\n};\n\nexport default new Phaser.Game(config);\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* @font-face {\\n  font-family: 'MyFont';\\n  src: url('./my-font.woff2') format('woff2'),\\n    url('./my-font.woff') format('woff');\\n  font-weight: 600;\\n  font-style: normal;\\n} */\\n\\nbody {\\n  /* font-family: 'MyFont'; */\\n  margin: 0;\\n  background: #333;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/style.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;GAMG;;AAEH;EACE,2BAA2B;EAC3B,SAAS;EACT,gBAAgB;AAClB\",\"sourcesContent\":[\"/* @font-face {\\n  font-family: 'MyFont';\\n  src: url('./my-font.woff2') format('woff2'),\\n    url('./my-font.woff') format('woff');\\n  font-weight: 600;\\n  font-style: normal;\\n} */\\n\\nbody {\\n  /* font-family: 'MyFont'; */\\n  margin: 0;\\n  background: #333;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"sourceRoot":""}